"use strict";(self.webpackChunksport_calendar_app=self.webpackChunksport_calendar_app||[]).push([[513],{1030:function(e,n,r){var t=r(6151),i=r(184);n.Z=function(e){var n=e.label,r=e.onClick;return(0,i.jsx)(t.Z,{sx:{width:"100%",mt:3},size:"small",variant:"contained",color:"success",onClick:r,children:n})}},176:function(e,n,r){var t=r(9439),i=r(8422),s=r(1889),u=r(890),a=r(8778),l=r(8256),c=r(7674),o=r(184);n.Z=function(e){var n=e.status,r=e.handleDrop,d=e.children,f=(0,i.L)((function(){return{accept:c.e.card,drop:function(){r(n)},collect:function(e){return{isOver:!!e.isOver(),item:e.getItem()}}}}),[n,r]),h=(0,t.Z)(f,2),p=h[0].isOver,x=h[1];return(0,o.jsxs)(s.ZP,{item:!0,sm:4,ref:x,sx:{borderLeft:"solid 1px",borderRight:"solid 1px",borderColor:(0,a.E4)({theme:l.Z}),flexDirection:"column",alignItems:"center",flexGrow:1,pl:3,pr:3,position:"relative"},children:[(0,o.jsx)(u.Z,{variant:"h5",align:"center",mb:2,children:n}),d,p&&(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.1,backgroundColor:(0,a.E4)({theme:l.Z})}})]})}},7881:function(e,n,r){r.d(n,{S1:function(){return t},Vr:function(){return u},s4:function(){return i},wn:function(){return s}});var t=function(e){return e.exercise.exerciseList},i=function(e){return e.exercise.chosenExercise},s=function(e){return e.exercise.nextId},u=function(e){return e.exercise.trainingExerciseList}},2513:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var t=r(3433),i=r(1413),s=r(9439),u=r(2791),a=r(7689),l=r(7892),c=r.n(l),o=r(890),d=r(1889),f=r(8910),h=r(7881),p=r(5787),x=r(8683),v=r(8624),m=r(4552),g=function(e){return e.forecast},Z=r(3662),j=r(1067),b=r(8169),y=r(7621),w=r(9504),C=r(2363),S=r(6151),D=r(3400),k=r(383),I=r(7674),P=r(4165),R=r(5861),q=r(1134),E=r(4695),G=r(8007),O=function(e){return e.running="Running",e.plank="Plank",e.pullups="Pullups",e.pushups="Pushups",e.squats="Squats",e}({}),V=G.Ry({type:G.nK().oneOf(Object.values(O)).required(),value:G.Rx().integer().min(1).required(),sets:G.Rx().integer().min(1).max(99).required(),status:G.nK().oneOf(Object.values(Z.f)).required()}).required(),z=G.Ry({value:G.Rx().integer().min(1).required(),sets:G.Rx().integer().min(1).max(99).required(),status:G.nK().oneOf(Object.values(Z.f)).required()}).required(),_=r(9818),F=r(5527),L=r(9891),T=r(184),Q=function(e){var n=e.open,r=e.handleClose,t=e.id,s=e.trainingId,u=e.handleSubmitForm,a=e.exercise,l=e.children,c=(0,q.cI)({mode:"all",resolver:a?(0,E.X)(z):(0,E.X)(V)}),d=c.register,f=c.control,h=c.handleSubmit,p=c.watch,x=c.reset,v=c.formState,m=v.errors,g=v.isValid,j=function(){var e=(0,R.Z)((0,P.Z)().mark((function e(n){var a;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,i.Z)((0,i.Z)({},n),{},{id:t,trainingId:s}),u(a),x(),r();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(e){switch(e){case O.running:return"Distance, m";case O.plank:return"Time, sec";default:return"Rep per set, rep"}};return(0,T.jsx)(_.Z,{open:n,onClose:r,children:(0,T.jsxs)(F.Z,{sx:{width:300,justifyContent:"center",p:3,height:"max-content"},children:[(0,T.jsx)(o.Z,{variant:"h6",pb:3,children:"Add exercise"}),p("type")===O.running?l:null,(0,T.jsxs)("form",{onSubmit:h(j),style:{display:"flex",flexDirection:"column",gap:10},children:[(0,T.jsx)(q.Qr,{name:"type",control:f,render:function(){var e;return(0,T.jsxs)(b.Z,(0,i.Z)((0,i.Z)({sx:{width:"100%"},id:"type",label:"Select type",select:!0,size:"small",defaultValue:null!==(e=null===a||void 0===a?void 0:a.type)&&void 0!==e?e:O.pullups,variant:"outlined",InputProps:{readOnly:!!a,className:a?"Mui-disabled":void 0}},d("type")),{},{children:[(0,T.jsx)(L.Z,{value:O.pullups,children:"Pull-ups"},O.pullups),(0,T.jsx)(L.Z,{value:O.pushups,children:"Push-ups"},O.pushups),(0,T.jsx)(L.Z,{value:O.squats,children:"Squats"},O.squats),(0,T.jsx)(L.Z,{value:O.running,children:"Running"},O.running),(0,T.jsx)(L.Z,{value:O.plank,children:"Plank"},O.plank)]}))}}),(0,T.jsx)(q.Qr,{name:"value",control:f,render:function(){var e;return(0,T.jsx)(b.Z,(0,i.Z)({sx:{width:"100%"},id:"value",label:y(p("type")),type:"number",size:"small",variant:"outlined",defaultValue:null!==(e=null===a||void 0===a?void 0:a.value)&&void 0!==e?e:""},d("value")))}}),m.value?(0,T.jsx)(o.Z,{variant:"body2",color:"error",children:m.value.message}):null,(0,T.jsx)(q.Qr,{name:"sets",control:f,render:function(){var e;return(0,T.jsx)(b.Z,(0,i.Z)({sx:{width:"100%"},id:"sets",label:"Sets",size:"small",variant:"outlined",type:"number",defaultValue:null!==(e=null===a||void 0===a?void 0:a.sets)&&void 0!==e?e:1,disabled:p("type")===O.running},d("sets")))}}),m.sets?(0,T.jsx)(o.Z,{variant:"body2",color:"error",children:m.sets.message}):null,(0,T.jsx)(q.Qr,{name:"status",control:f,render:function(){var e;return(0,T.jsxs)(b.Z,(0,i.Z)((0,i.Z)({sx:{width:"100%"},id:"status",label:"Select status",select:!0,size:"small",defaultValue:null!==(e=null===a||void 0===a?void 0:a.status)&&void 0!==e?e:Z.f.toDo,variant:"outlined"},d("status")),{},{children:[(0,T.jsx)(L.Z,{value:Z.f.toDo,children:Z.f.toDo},Z.f.toDo),(0,T.jsx)(L.Z,{value:Z.f.inProgress,children:Z.f.inProgress},Z.f.inProgress),(0,T.jsx)(L.Z,{value:Z.f.done,children:Z.f.done},Z.f.done)]}))}}),(0,T.jsx)(S.Z,{sx:{width:"100%"},size:"small",type:"submit",variant:"contained",color:"success",disabled:!g,children:"Save"})]})]})})},U=function(e){var n=e.exercise,r=e.handleDragStart,t=e.handleDelete,i=e.handleUpdateExercise,a=(0,u.useState)(!1),l=(0,s.Z)(a,2),c=l[0],o=l[1],d=(0,j.c)((function(){return{type:I.e.card,collect:function(e){return{isDragging:!!e.isDragging()}}}})),f=(0,s.Z)(d,2),h=f[0].isDragging,p=f[1],x=function(e,n){return(0,T.jsx)(b.Z,{sx:{width:"100%",mb:2},label:e,size:"small",variant:"outlined",value:n,disabled:!0})};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(y.Z,{sx:{mb:2,cursor:"pointer",opacity:h?.5:1},onDragStart:function(){r(n)},ref:p,children:[(0,T.jsxs)(w.Z,{children:[x("Type",n.type),x("Value",n.value),x("Sets",n.sets)]}),(0,T.jsxs)(C.Z,{sx:{justifyContent:"space-between"},children:[(0,T.jsx)(S.Z,{size:"small",onClick:function(){return o(!0)},children:"Edit"}),(0,T.jsx)(D.Z,{onClick:function(){return t(n)},children:(0,T.jsx)(k.Z,{sx:{color:"error.main"}})})]})]}),(0,T.jsx)(Q,{open:c,handleClose:function(){return o(!1)},id:n.id,trainingId:n.trainingId,handleSubmitForm:i,exercise:n})]})},A=r(176),K=r(1030),X=r(763),M=r(9530),W=r(3850),H=function(e){var n=e.city,r=e.forecast;return(0,T.jsxs)(y.Z,{sx:{mb:2,p:2},children:[(0,T.jsxs)(o.Z,{variant:"body1",component:"p",mr:1,color:"error.main",children:[(0,T.jsx)(M.Z,{}),"/",(0,T.jsx)(W.Z,{})," Weather warning in ",n,"!"]}),(0,T.jsxs)(o.Z,{variant:"body1",component:"p",mr:1,children:[(0,X.upperFirst)(r.weather[0].description)," is expected, temperature of about ",Math.round(r.main.temp-273)," C"]})]})},J=function(){var e=(0,f.TL)(),n=(0,a.s0)(),r=(0,a.UO)().trainingId,l=(0,u.useRef)(!0),j=(0,u.useState)(!1),b=(0,s.Z)(j,2),y=b[0],w=b[1],C=(0,u.useRef)(void 0),S=(0,u.useRef)(),D=(0,u.useState)(null),k=(0,s.Z)(D,2),I=k[0],P=k[1],R=(0,f.CG)(h.S1),q=(0,f.CG)(x.fs),E=(0,f.CG)(h.s4),G=(0,f.CG)(h.wn),O=(0,f.CG)(g),V=(0,f.CG)(h.Vr),z=V.toDo,_=V.inProgress,F=V.done;(0,u.useEffect)((function(){if(l.current)return e((0,v.kX)()),e((0,p.JU)()),void(l.current=!1)}),[]),(0,u.useEffect)((function(){r&&q&&(q.length?(C.current=q.find((function(e){return e.id===+r})),C.current?(e((0,m.G)(C.current.date)),C.current.exerciseIds&&e((0,p.Ev)(C.current.exerciseIds))):n("/training-list")):n("/training-list"))}),[r,R,q,r]),(0,u.useEffect)((function(){var n=X();n!==S.current&&C.current&&(S.current=n,e((0,v._G)((0,i.Z)((0,i.Z)({},C.current),{},{status:n}))))}),[z,_,F]),(0,u.useEffect)((function(){if(C.current&&O.data){var e=C.current.date;if(!c()().isAfter(e,"day")){var n=O.data.list.filter((function(n){return n.dt_txt.startsWith(e)})),r=n.find((function(e){return e.dt_txt.includes("12:00:00")}))||n[0],t="Rain"===r.weather[0].main||r.main.temp<283;t||I||P(null),t&&P(r)}}}),[C.current,O.data]);var L=function(n){e((0,p.v9)(n))},X=function(){return _.length||z.length&&F.length?Z.f.inProgress:!z.length&&F.length?Z.f.done:Z.f.toDo},M=function(n){if(E){var r=(0,i.Z)((0,i.Z)({},E),{},{status:n});e((0,p.VF)(r)),e((0,p.jk)())}},W=function(n){e((0,p.VF)(n))},J=function(r){C.current?(e((0,v._G)((0,i.Z)((0,i.Z)({},C.current),{},{exerciseIds:C.current.exerciseIds.filter((function(e){return e!==r.id}))}))),e((0,p.Z1)(r.id)),e((0,p.jk)())):n("/training-list")},N=function(e){return(0,T.jsx)(U,{exercise:e,handleDragStart:L,handleDelete:J,handleUpdateExercise:W},e.id)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(o.Z,{variant:"h4",mt:3,children:"Training exercise board"}),(0,T.jsxs)(d.ZP,{container:!0,alignSelf:"flex-start",flexGrow:1,minHeight:"100%",p:3,children:[(0,T.jsxs)(A.Z,{status:Z.f.toDo,handleDrop:M,children:[z.length?z.map(N):null,(0,T.jsx)(K.Z,{label:"Add one more",onClick:function(){r&&w(!0)}})]}),(0,T.jsx)(A.Z,{status:Z.f.inProgress,handleDrop:M,children:_.length?_.map(N):null}),(0,T.jsx)(A.Z,{status:Z.f.done,handleDrop:M,children:F.length?F.map(N):null})]}),r?(0,T.jsx)(Q,{open:y,handleClose:function(){return w(!1)},id:G,trainingId:+r,handleSubmitForm:function(r){if(!C.current)return w(!1),void n("/training-list");e((0,p.uR)(r)),e((0,v._G)((0,i.Z)((0,i.Z)({},C.current),{},{exerciseIds:[].concat((0,t.Z)(C.current.exerciseIds),[r.id])}))),w(!1)},children:I&&O.data?(0,T.jsx)(H,{city:O.data.city.name,forecast:I}):null}):null]})}},8778:function(e,n,r){r.d(n,{E4:function(){return i},TI:function(){return s},jS:function(){return u},sy:function(){return t}});var t=function(e){return e.theme.palette.primary.main},i=function(e){return e.theme.palette.primary.light},s=function(e){return e.theme.palette.primary.backgroundColor},u=function(e){return e.theme.palette.error.main}},7674:function(e,n,r){r.d(n,{e:function(){return t}});var t=function(e){return e.card="card",e}({})}}]);
//# sourceMappingURL=513.ec861b20.chunk.js.map